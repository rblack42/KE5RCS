

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CentOS 5.11 VM Install &mdash; D-Star Notes</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="D-Star Notes" href="../index.html"/>
        <link rel="prev" title="Voice and Data Packets" href="../Protocol/Packets.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> D-Star Notes
          

          
            
            <img src="../_static/dstar.jpg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">D-Star Notes: Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DstarComponents.html">D_Star Repeater Components</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Network/RouterSetup.html">Configuring a Second Linksys Router</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Network/NetworkSetup.html">Gateway Network Setup</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../GatewayServer/InstallSummary.html">Summary of Build Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GatewayServer/BootMedia.html">Preparing Boot Media</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GatewayServer/CentOS_install.html">Installing CentOS for D-Star</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GatewayServer/DNSInstall.html">Gateway DNS Setup</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../G2Software/GatewayInstall.html">Gateway Software Install Script</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Protocol/Packets.html">Voice and Data Packets</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CentOS 5.11 VM Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vm-setup">VM Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#centos-installation">CentOS Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#final-steps">Final Steps</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">D-Star Notes</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>CentOS 5.11 VM Install</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Appendix/CentOS_VM.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="centos-5-11-vm-install">
<h1>CentOS 5.11 VM Install<a class="headerlink" href="#centos-5-11-vm-install" title="Permalink to this headline">¶</a></h1>
<p>These screen shots were created by installing the CentOS 5.11 ISO in a
VirtualBox VM. There are a few differences in the screens you will see when
installing on real hardware, but they are easy to figure out.</p>
<div class="section" id="vm-setup">
<h2>VM Setup<a class="headerlink" href="#vm-setup" title="Permalink to this headline">¶</a></h2>
<p>Create a new VM, and set it up as a ‘redhat 32-bit Linux’ system. I gave the
primary hard disk 40GB (dynamically allocated), and configured two network
adapters. This is necessary to run through the complete ICOM software setup
process.</p>
</div>
<div class="section" id="centos-installation">
<h2>CentOS Installation<a class="headerlink" href="#centos-installation" title="Permalink to this headline">¶</a></h2>
<p>Start off by booting the machine with the OS install media installed. On real
hardware, you need to access the BIOS and configure the boot device to match
the media you are using. I used a USB DVD drive to set up the gateway servers.</p>
<p>When using a VM for testing, attach the ISO file to the CD/DVD drive. This is
done by opening up the <code class="docutils literal"><span class="pre">settings</span></code> menu and selecting the <code class="docutils literal"><span class="pre">Storage</span></code>
option. You will navigate to the ISO file and set is as the virtual DVD.</p>
<p>When the boot process starts, you should see this screen:</p>
<a class="reference internal image-reference" href="../_images/CentOS1.png"><img alt="../_images/CentOS1.png" class="align-center" src="../_images/CentOS1.png" style="width: 500px;" /></a>
<p>Press “Enter” to start the installation:</p>
<a class="reference internal image-reference" href="../_images/CentOS2.png"><img alt="../_images/CentOS2.png" class="align-center" src="../_images/CentOS2.png" style="width: 500px;" /></a>
<p>You can check your media if desired. Most of the time, just select “Skip” and
continue.</p>
<a class="reference internal image-reference" href="../_images/CentOS3.png"><img alt="../_images/CentOS3.png" class="align-center" src="../_images/CentOS3.png" style="width: 500px;" /></a>
<p>Click on “Next” on this screen.</p>
<a class="reference internal image-reference" href="../_images/CentOS4.png"><img alt="../_images/CentOS4.png" class="align-center" src="../_images/CentOS4.png" style="width: 500px;" /></a>
<p>You probably want to use “English” as your language. Click “Next” after
making this choice:</p>
<a class="reference internal image-reference" href="../_images/CentOS5.png"><img alt="../_images/CentOS5.png" class="align-center" src="../_images/CentOS5.png" style="width: 500px;" /></a>
<p>The keyboard should be “U.S. English” as well. Click on “Next”</p>
<a class="reference internal image-reference" href="../_images/CentOS6.png"><img alt="../_images/CentOS6.png" class="align-center" src="../_images/CentOS6.png" style="width: 500px;" /></a>
<p>On this screen, you select the partitioning scheme to use on the primary hard
disk on the system. The normal selection is shown. We remove any partitions on
the disk and let the installer set up the partitions.</p>
<img alt="../_images/CentOS7.png" class="align-center" src="../_images/CentOS7.png" />
<p>This is a warning, confirming the partitioning choice. Click on “Yes” to
continue.</p>
<p>The next screen will let you configure the network adapters. There should be
two network devices present. If testing with the VM, you need to activate the
second adapter before booting the system.</p>
<p>You will click on the “Edit” control for each adapter to configure them. Make
sure the “Activate on Boot” check box is selected for both adapters.</p>
<a class="reference internal image-reference" href="../_images/CentOS8.png"><img alt="../_images/CentOS8.png" class="align-center" src="../_images/CentOS8.png" style="width: 500px;" /></a>
<p>The primary adapter (<code class="docutils literal"><span class="pre">en0</span></code>) needs to be configured with a static IP address
of 10.0.0.1, and a netmask of 255.0.0.0. Enter /8 in the “Prefix” field as
shown here.</p>
<a class="reference internal image-reference" href="../_images/CentOS9.png"><img alt="../_images/CentOS9.png" class="align-center" src="../_images/CentOS9.png" style="width: 500px;" /></a>
<p>The secondary adapter (<code class="docutils literal"><span class="pre">en1</span></code>) is also set with a static IP. The address here
is 176.16.0.20, and the prefix is “/8”.</p>
<p>Note that I disabled IPv6 support on both adapters.</p>
<a class="reference internal image-reference" href="../_images/CentOS10.png"><img alt="../_images/CentOS10.png" class="align-center" src="../_images/CentOS10.png" style="width: 500px;" /></a>
<p>On this screen, we configure the IP address of the gateway on this network.
This will be the IP address of the router, which needs to be set to 10.0.0.1.
The primary DNS entry should be 127.0.0.1 since we will be running a name
service on the gateway server.</p>
<a class="reference internal image-reference" href="../_images/CentOS11.png"><img alt="../_images/CentOS11.png" class="align-center" src="../_images/CentOS11.png" style="width: 500px;" /></a>
<p>Next, we set the appropriate time zone. For Texas this should be
“America/Chicago”.</p>
<a class="reference internal image-reference" href="../_images/CentOS12.png"><img alt="../_images/CentOS12.png" class="align-center" src="../_images/CentOS12.png" style="width: 500px;" /></a>
<p>You will need to set a root password for the server. In normal use, this
account should not be used, so keep this password private. Administrators
should be set up with <code class="docutils literal"><span class="pre">sudo</span></code> access, and use their personal accounts to work
on the server.</p>
<a class="reference internal image-reference" href="../_images/CentOS13.png"><img alt="../_images/CentOS13.png" class="align-center" src="../_images/CentOS13.png" style="width: 500px;" /></a>
<p>On this screen, we start installing the default software. Since the gateway
system is going to be a server, I selected the “Server” check boxes here. At
the repeater site, the GUI interface will be available. Off site,
administrators will access the server using a terminal interface.</p>
<p>Select “Customize now” so we can add a few packages.</p>
<a class="reference internal image-reference" href="../_images/CentOS14.png"><img alt="../_images/CentOS14.png" class="align-center" src="../_images/CentOS14.png" style="width: 500px;" /></a>
<p>For now, all we need to install is the <cite>DNS Name Server</cite> found under the
“Servers” menu. All other software is installed using the ICOM DVD.</p>
<a class="reference internal image-reference" href="../_images/CentOS15.png"><img alt="../_images/CentOS15.png" class="align-center" src="../_images/CentOS15.png" style="width: 500px;" /></a>
<p>After the default software is installed, the basic OS installation is complete.
The system needs to be rebooted at this point to finalize the initial setup.</p>
<p>On the actual gateway server, make sure to remove the DVD and set the server to
boot normally from the primary hard disk.</p>
<a class="reference internal image-reference" href="../_images/CentOS16.png"><img alt="../_images/CentOS16.png" class="align-center" src="../_images/CentOS16.png" style="width: 500px;" /></a>
<p>Say “hello” to the new OS. Click on “Forward” to continue.</p>
<a class="reference internal image-reference" href="../_images/CentOS17.png"><img alt="../_images/CentOS17.png" class="align-center" src="../_images/CentOS17.png" style="width: 500px;" /></a>
<p>We need to configure the Firewall to allow controlled access to and from the
server.</p>
<p>On the first part of this screen, we need to allow SSH and HTTPS. Under “Other
Ports” you need to configure three additional ports:</p>
<blockquote>
<div><ul class="simple">
<li>20005 (TCP)</li>
<li>40000 (UDP)</li>
<li>40001 (TCP)</li>
</ul>
</div></blockquote>
<p>Click “Forward” to continue</p>
<img alt="../_images/CentOS18.png" class="align-center" src="../_images/CentOS18.png" />
<p>This popup is a warning that you are about to activate the Firewall with new
settings. Click “Yes” to move on.</p>
<a class="reference internal image-reference" href="../_images/CentOS19.png"><img alt="../_images/CentOS19.png" class="align-center" src="../_images/CentOS19.png" style="width: 500px;" /></a>
<p>This screen tells you the Firewall is going to be activated. Click “Forware” to continue.</p>
<a class="reference internal image-reference" href="../_images/CentOS20.png"><img alt="../_images/CentOS20.png" class="align-center" src="../_images/CentOS20.png" style="width: 500px;" /></a>
<p>On this screen, we set the system clock. We will add NTP support later to keep this accurate.</p>
<a class="reference internal image-reference" href="../_images/CentOS21.png"><img alt="../_images/CentOS21.png" class="align-center" src="../_images/CentOS21.png" style="width: 500px;" /></a>
<p>Finally, the system offers a n opportunity to add a new user. I use this screen
to enter my personal credentials, which I will use as an administrator. Later,
I will add this new user to the list of users with <code class="docutils literal"><span class="pre">sudo</span></code> permissions. Click
“Create Account” to set up a user.</p>
<a class="reference internal image-reference" href="../_images/CentOS22.png"><img alt="../_images/CentOS22.png" class="align-center" src="../_images/CentOS22.png" style="width: 500px;" /></a>
<p>Enter the user name. On D-Start servers, administrator accounts should use
Amateur Radio call signs as user names.</p>
<a class="reference internal image-reference" href="../_images/CentOS23.png"><img alt="../_images/CentOS23.png" class="align-center" src="../_images/CentOS23.png" style="width: 500px;" /></a>
<p>This completes the installation. At this point, the system will let you log in normally. I used my new user account and got to this screen. The first thing I do here is add the “Terminal” icon to the screen. You can do this by clicking on “Applications/Utilities”. Do not click on the “Terminal” icon, instead, click and drag the icon to the desktop. This is the normal display I see when working directly on the gateway servers.</p>
</div>
<div class="section" id="final-steps">
<h2>Final Steps<a class="headerlink" href="#final-steps" title="Permalink to this headline">¶</a></h2>
<p>Before ending this process, check that you can access the server using SSH.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ ssh n5ujh@10.0.1.204
</pre></div>
</div>
<p>The first time you do this, you will be asked if you trust this server. Say “Yes”
and you will be asked for your system password. Enter that and you should see a
normal terminal session prompt.</p>
<p>Congratulations! Your server is now ready for installation of the ICOM software!</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../Protocol/Packets.html" class="btn btn-neutral" title="Voice and Data Packets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Roie R. Black.
      Last updated on Oct 24, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>